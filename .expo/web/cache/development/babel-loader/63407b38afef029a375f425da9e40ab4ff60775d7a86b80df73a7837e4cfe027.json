{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ImageDropper(_ref) {\n  var imageUri = _ref.imageUri,\n    onImageSelected = _ref.onImageSelected;\n  var _useState = useState(imageUri || null),\n    _useState2 = _slicedToArray(_useState, 2),\n    localUri = _useState2[0],\n    setLocalUri = _useState2[1];\n  var pickImage = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var permission = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (!permission.granted) {\n        alert('Permissão necessária para acessar a galeria!');\n        return;\n      }\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        quality: 0.7\n      });\n      if (!result.canceled) {\n        var _result$assets, _result$assets$;\n        var uri = ((_result$assets = result.assets) == null ? void 0 : (_result$assets$ = _result$assets[0]) == null ? void 0 : _result$assets$.uri) || result.uri;\n        setLocalUri(uri);\n        onImageSelected(uri);\n      }\n    });\n    return function pickImage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      onPress: pickImage,\n      style: styles.button,\n      children: _jsx(Text, {\n        children: \"Escolher imagem\"\n      })\n    }), localUri ? _jsx(Image, {\n      source: {\n        uri: localUri\n      },\n      style: styles.preview\n    }) : null]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    marginVertical: 8\n  },\n  preview: {\n    width: 150,\n    height: 150,\n    marginTop: 8,\n    borderRadius: 8\n  },\n  button: {\n    marginTop: 8,\n    padding: 8,\n    borderWidth: 1,\n    borderRadius: 6\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TouchableOpacity","Image","Platform","StyleSheet","ImagePicker","jsx","_jsx","jsxs","_jsxs","ImageDropper","_ref","imageUri","onImageSelected","_useState","_useState2","_slicedToArray","localUri","setLocalUri","pickImage","_ref2","_asyncToGenerator","permission","requestMediaLibraryPermissionsAsync","granted","alert","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","quality","canceled","_result$assets","_result$assets$","uri","assets","apply","arguments","style","styles","container","children","onPress","button","source","preview","create","marginVertical","width","height","marginTop","borderRadius","padding","borderWidth"],"sources":["C:/Users/João Vitor Cruz/Desktop/devMobileTeste/components/ImageDropper.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, TouchableOpacity, Image, Platform, StyleSheet } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\n\nexport default function ImageDropper({ imageUri, onImageSelected }) {\n  const [localUri, setLocalUri] = useState(imageUri || null);\n\n  const pickImage = async () => {\n    const permission = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    if (!permission.granted) {\n      alert('Permissão necessária para acessar a galeria!');\n      return;\n    }\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      quality: 0.7,\n    });\n    if (!result.canceled) {\n      const uri = result.assets?.[0]?.uri || result.uri;\n      setLocalUri(uri);\n      onImageSelected(uri);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <TouchableOpacity onPress={pickImage} style={styles.button}>\n        <Text>Escolher imagem</Text>\n      </TouchableOpacity>\n      {localUri ? <Image source={{ uri: localUri }} style={styles.preview} /> : null}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { marginVertical: 8 },\n  preview: { width: 150, height: 150, marginTop: 8, borderRadius: 8 },\n  button: { marginTop: 8, padding: 8, borderWidth: 1, borderRadius: 6 },\n});"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,UAAA;AAExC,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEjD,eAAe,SAASC,YAAYA,CAAAC,IAAA,EAAgC;EAAA,IAA7BC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAEC,eAAe,GAAAF,IAAA,CAAfE,eAAe;EAC9D,IAAAC,SAAA,GAAgChB,QAAQ,CAACc,QAAQ,IAAI,IAAI,CAAC;IAAAG,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnDG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAE5B,IAAMI,SAAS;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAC5B,IAAMC,UAAU,SAASjB,WAAW,CAACkB,mCAAmC,CAAC,CAAC;MAC1E,IAAI,CAACD,UAAU,CAACE,OAAO,EAAE;QACvBC,KAAK,CAAC,8CAA8C,CAAC;QACrD;MACF;MACA,IAAMC,MAAM,SAASrB,WAAW,CAACsB,uBAAuB,CAAC;QACvDC,UAAU,EAAEvB,WAAW,CAACwB,gBAAgB,CAACC,MAAM;QAC/CC,OAAO,EAAE;MACX,CAAC,CAAC;MACF,IAAI,CAACL,MAAM,CAACM,QAAQ,EAAE;QAAA,IAAAC,cAAA,EAAAC,eAAA;QACpB,IAAMC,GAAG,GAAG,EAAAF,cAAA,GAAAP,MAAM,CAACU,MAAM,sBAAAF,eAAA,GAAbD,cAAA,CAAgB,CAAC,CAAC,qBAAlBC,eAAA,CAAoBC,GAAG,KAAIT,MAAM,CAACS,GAAG;QACjDjB,WAAW,CAACiB,GAAG,CAAC;QAChBtB,eAAe,CAACsB,GAAG,CAAC;MACtB;IACF,CAAC;IAAA,gBAfKhB,SAASA,CAAA;MAAA,OAAAC,KAAA,CAAAiB,KAAA,OAAAC,SAAA;IAAA;EAAA,GAed;EAED,OACE7B,KAAA,CAACV,IAAI;IAACwC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BnC,IAAA,CAACN,gBAAgB;MAAC0C,OAAO,EAAExB,SAAU;MAACoB,KAAK,EAAEC,MAAM,CAACI,MAAO;MAAAF,QAAA,EACzDnC,IAAA,CAACP,IAAI;QAAA0C,QAAA,EAAC;MAAe,CAAM;IAAC,CACZ,CAAC,EAClBzB,QAAQ,GAAGV,IAAA,CAACL,KAAK;MAAC2C,MAAM,EAAE;QAAEV,GAAG,EAAElB;MAAS,CAAE;MAACsB,KAAK,EAAEC,MAAM,CAACM;IAAQ,CAAE,CAAC,GAAG,IAAI;EAAA,CAC1E,CAAC;AAEX;AAEA,IAAMN,MAAM,GAAGpC,UAAU,CAAC2C,MAAM,CAAC;EAC/BN,SAAS,EAAE;IAAEO,cAAc,EAAE;EAAE,CAAC;EAChCF,OAAO,EAAE;IAAEG,KAAK,EAAE,GAAG;IAAEC,MAAM,EAAE,GAAG;IAAEC,SAAS,EAAE,CAAC;IAAEC,YAAY,EAAE;EAAE,CAAC;EACnER,MAAM,EAAE;IAAEO,SAAS,EAAE,CAAC;IAAEE,OAAO,EAAE,CAAC;IAAEC,WAAW,EAAE,CAAC;IAAEF,YAAY,EAAE;EAAE;AACtE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}